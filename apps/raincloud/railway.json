{
  "$schema": "https://railway.com/railway.schema.json",
  "build": {
    "builder": "RAILPACK",
    "installCommand": "corepack enable && yarn install --immutable",
    "buildCommand": "yarn build:raincloud"
  },
  "deploy": {
    "startCommand": "node apps/raincloud/index.js",
    "restartPolicyType": "ON_FAILURE",
    "restartPolicyMaxRetries": 10
  },
  "variables": {
    "RAINCLOUD_TOKEN": "",
    "DISCORD_CLIENT_ID": "",
    "DISCORD_CLIENT_SECRET": "",
    "SESSION_SECRET": "${{shared.SESSION_SECRET}}",
    "WORKER_SECRET": "${{shared.WORKER_SECRET}}",
    "REQUIRED_ROLE_ID": "${{shared.REQUIRED_ROLE_ID}}",
    "CALLBACK_URL": "${{shared.CALLBACK_URL}}",
    "DATABASE_URL": "${{Postgres.DATABASE_URL}}",
    "DATABASE_PUBLIC_URL": "${{Postgres.DATABASE_PUBLIC_URL}}",
    "PGDATA": "${{Postgres.PGDATA}}",
    "PGHOST": "${{Postgres.PGHOST}}",
    "PGPASSWORD": "${{Postgres.PGPASSWORD}}",
    "PGPORT": "${{Postgres.PGPORT}}",
    "PGUSER": "${{Postgres.PGUSER}}",
    "POSTGRES_DB": "${{Postgres.POSTGRES_DB}}",
    "POSTGRES_PASSWORD": "${{Postgres.POSTGRES_PASSWORD}}",
    "POSTGRES_USER": "${{Postgres.POSTGRES_USER}}",
    "REDIS_URL": "${{Redis.REDIS_URL}}",
    "REDISHOST": "${{Redis.REDISHOST}}",
    "REDISPASSWORD": "${{Redis.REDISPASSWORD}}",
    "REDISPORT": "${{Redis.REDISPORT}}",
    "REDISUSER": "${{Redis.REDISUSER}}",
    "AWS_ACCESS_KEY_ID": "${{preserved-icebox.ACCESS_KEY_ID}}",
    "AWS_DEFAULT_REGION": "${{preserved-icebox.REGION}}",
    "AWS_ENDPOINT_URL": "${{preserved-icebox.ENDPOINT}}",
    "AWS_S3_BUCKET_NAME": "${{preserved-icebox.BUCKET}}",
    "AWS_SECRET_ACCESS_KEY": "${{preserved-icebox.SECRET_ACCESS_KEY}}",
    "STT_API_KEY": "${{shared.STT_API_KEY}}",
    "STT_PROVIDER": "${{shared.STT_PROVIDER}}",
    "TTS_API_KEY": "${{shared.TTS_API_KEY}}",
    "TTS_PROVIDER": "${{shared.TTS_PROVIDER}}",
    "TTS_VOICE_NAME": "${{shared.TTS_VOICE_NAME}}",
    "VOICE_LANGUAGE": "${{shared.VOICE_LANGUAGE}}",
    "RAINBOT_URL": "http://rainbot-worker.railway.internal:8080",
    "PRANJEET_URL": "http://pranjeet-worker.railway.internal:8080",
    "HUNGERBOT_URL": "http://hungerbot-worker.railway.internal:8080",
    "DASHBOARD_ORIGIN": "https://rainbot-production.up.railway.app"
  }
}
